(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[291],{8364:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var s=r(n(4938)),a=n(5893),l=(0,s.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");t.Z=l},7957:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var s=r(n(4938)),a=n(5893),l=(0,s.default)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=l},4938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(5227)},6557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/users",function(){return n(2415)}])},2415:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}});var r=n(5893),s=n(7294),a=n(7568),l=n(603),i=n(655),o=n(8881),d=n(7542),c=n(9557),u=n(7272),$=n(6948),h=n(7491),_=n(6798),f=n(2889),x=n(1138),m=n(7929),p=n(5369),Z=n(1953),j=n(9669),b=n.n(j),v=n(7957),g=n(8364),y=n(8100),w=n(6351),S=n(4283),C=n(1930),k=n(7679),A=n(8649),P={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,color:"black",display:"flex",flexDirection:"column",gap:3};function E(e){var t=e.openAddUser,n=e.handleCloseAddUser,a=function(e){b().post("http://localhost:4000/v1/users/create",{email:e.target.email.value,first_name:e.target.first_name.value,last_name:e.target.last_name.value,phone:e.target.phone.value,address:e.target.address.value,role_id:c,user_status:e.target.user_status.value,password:e.target.password.value}).then(function(e){console.log(e)})},l=(0,s.useState)(),i=l[0],o=l[1],d=(0,s.useState)(""),c=d[0],u=d[1];(0,s.useEffect)(function(){b().get("http://localhost:4000/v1/roles").then(function(e){o(e.data.data)})},[]);var $=function(e){u(e.target.value)};return(0,r.jsx)("div",{children:(0,r.jsx)(f.Z,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(Z.Z,{sx:P,component:"form",onSubmit:a,children:[(0,r.jsx)(x.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Add User"}),(0,r.jsx)(w.Z,{label:"Email",name:"email",required:!0,type:"email"}),(0,r.jsx)(w.Z,{label:"First Name",name:"first_name",required:!0}),(0,r.jsx)(w.Z,{label:"Last Name",name:"last_name",required:!0}),(0,r.jsx)(w.Z,{label:"Phone Number",name:"phone",required:!0,type:"number"}),(0,r.jsx)(w.Z,{label:"Address",name:"address",required:!0}),(0,r.jsxs)(S.Z,{variant:"standard",sx:{m:1,minWidth:120},children:[(0,r.jsx)(C.Z,{id:"demo-simple-select-standard-label",children:"Role"}),(0,r.jsx)(k.Z,{labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",value:c,onChange:$,label:"Role",children:null==i?void 0:i.map(function(e,t){return(0,r.jsx)(A.Z,{value:e._id,children:e.role_name},t)})})]}),(0,r.jsx)(w.Z,{label:"Status",name:"user_status",required:!0}),(0,r.jsx)(w.Z,{label:"Password",name:"password",required:!0,type:"password"}),(0,r.jsx)(_.Z,{type:"submit",variant:"contained",children:"Save"})]})})})}function N(){var e,t=function(e){b().delete("http://localhost:4000/v1/users/delete/".concat(e)).then(function(e){200===e.status&&(w(!1),location.reload())})},n=(0,l.Z)(s.useState(!1),2),j=n[0],w=n[1],S=(0,l.Z)(s.useState(!1),2),C=S[0],k=S[1],A=(0,l.Z)(s.useState(),2),P=A[0],N=A[1],U=function(){return k(!0)},L=function(){return k(!1)},M=(e=(0,a.Z)(function(e){return(0,i.__generator)(this,function(t){switch(t.label){case 0:return[4,b().get(e).then(function(e){return e.data.data})];case 1:return[2,t.sent()]}})}),function(t){return e.apply(this,arguments)}),q=(0,y.ZP)("http://localhost:4000/v1/users",M),I=q.data;return q.error,s.useEffect(function(){b().get("http://localhost:4000/v1/roles").then(function(e){N(e.data.data)})},[]),(0,r.jsxs)(m.Z,{component:o.Z,children:[(0,r.jsxs)(d.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,r.jsx)(p.Z,{children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(u.Z,{children:"Id"}),(0,r.jsx)(u.Z,{children:"Email"}),(0,r.jsx)(u.Z,{children:"First Name"}),(0,r.jsx)(u.Z,{children:"Last Name"}),(0,r.jsx)(u.Z,{children:"Phone"}),(0,r.jsx)(u.Z,{children:"Address"}),(0,r.jsx)(u.Z,{children:"Role"}),(0,r.jsx)(u.Z,{children:"User Status"}),(0,r.jsx)(u.Z,{children:"Password"}),(0,r.jsx)(u.Z,{children:"Edit"}),(0,r.jsx)(u.Z,{children:"Delete"}),(0,r.jsx)(u.Z,{children:"Profile"})]})}),(0,r.jsx)($.Z,{children:null==I?void 0:I.map(function(e,n){return(0,r.jsxs)(c.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,r.jsx)(u.Z,{children:e._id}),(0,r.jsx)(u.Z,{children:e.email}),(0,r.jsx)(u.Z,{children:e.first_name}),(0,r.jsx)(u.Z,{children:e.last_name}),(0,r.jsx)(u.Z,{children:e.phone}),(0,r.jsx)(u.Z,{children:e.address}),(0,r.jsx)(u.Z,{children:null==P?void 0:P.map(function(t){if(t._id===e.role_id)return t.role_name})}),(0,r.jsx)(u.Z,{children:e.user_status}),(0,r.jsx)(u.Z,{children:e.password}),(0,r.jsx)(u.Z,{children:(0,r.jsx)(h.Z,{href:"/users/edit/".concat(e._id),children:(0,r.jsx)(v.Z,{})})}),(0,r.jsx)(u.Z,{children:(0,r.jsx)(_.Z,{onClick:function(){t(e._id)},children:(0,r.jsx)(g.Z,{})})}),(0,r.jsx)(u.Z,{children:(0,r.jsx)(h.Z,{href:"/users/".concat(e._id),children:"Profile"})}),(0,r.jsx)(f.Z,{open:j,onClose:function(){w(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(Z.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",borderRadius:5,boxShadow:24,p:4,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:3,color:"black"},children:[(0,r.jsx)(x.Z,{children:"Delete?"}),(0,r.jsxs)("div",{style:{display:"flex",gap:15},children:[(0,r.jsx)(_.Z,{variant:"contained",onClick:function(){w(!1)},children:"Cancel"}),(0,r.jsx)(_.Z,{variant:"contained",color:"error",onClick:function(){t(e._id)},children:"Delete"})]})]})})]},n)})})]}),(0,r.jsx)(_.Z,{variant:"contained",color:"success",style:{width:"100%"},onClick:U,children:"Add User"}),(0,r.jsx)(E,{openAddUser:C,setOpenAddUser:k,handleCloseAddUser:L})]})}function U(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(N,{})})}},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},603:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return s}})}},function(e){e.O(0,[388,255,495,798,351,410,774,888,179],function(){return e(e.s=6557)}),_N_E=e.O()}]);