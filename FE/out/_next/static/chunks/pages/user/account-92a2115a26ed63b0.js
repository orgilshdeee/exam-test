(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[906],{5711:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/account",function(){return r(8815)}])},5185:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(5893),s=r(7294),i=r(8193),a=r(5155),o=r(2585),l=r(1163);function c(){var e=function(){document.getElementById("myDropdown").classList.toggle("show")};return(0,l.useRouter)(),window.onclick=function(e){if(!e.target.matches(".dropbtn")){var t,r=document.getElementsByClassName("dropdown-content");for(t=0;t<r.length;t++){var n=r[t];n.classList.contains("show")&&n.classList.remove("show")}}},(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"headerRightSide",children:[(0,n.jsx)(i.y5j,{}),(0,n.jsx)(a.m5v,{}),(0,n.jsx)(o.kA4,{onClick:e,className:"dropbtn"})]}),(0,n.jsx)("div",{className:"dropdown",children:(0,n.jsxs)("div",{id:"myDropdown",className:"dropdown-content",children:[(0,n.jsxs)("div",{className:"dropdownTop",children:[(0,n.jsx)("a",{href:"/user/account",children:"Profile"}),(0,n.jsx)("img",{src:"../pictures/profile.png",alt:""})]}),(0,n.jsx)("a",{href:"#",children:"My listings"}),(0,n.jsx)("a",{onClick:function(){localStorage.clear(),location.reload()},children:"Sign Out"})]})})]})}var d=r(603),u=r(1953),$=r(2889),p=r(9669),h=r.n(p),f={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function m(){var e=function(e){e.preventDefault();var t=e.target[0].value,r=e.target[1].value;h().post("http://localhost:4000/v1/users/login",{email:t,password:r}).then(function(e){localStorage.setItem("user",JSON.stringify(e.data.data)),o(),location.reload()})},t=(0,d.Z)(s.useState(!1),2),r=t[0],i=t[1],a=function(){return i(!0)},o=function(){return i(!1)};return(0,l.useRouter)(),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"headerRightSide",children:(0,n.jsx)("button",{onClick:a,children:"Sign In"})}),(0,n.jsx)($.Z,{open:r,onClose:o,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,n.jsx)(u.Z,{sx:f,children:(0,n.jsx)("div",{className:"loginForm",children:(0,n.jsxs)("form",{onSubmit:e,children:[(0,n.jsx)("p",{children:"Login"}),(0,n.jsx)("input",{type:"email",name:"email",placeholder:"Email",id:"email"}),(0,n.jsx)("input",{type:"password",name:"password",placeholder:"Password",id:"password"}),(0,n.jsx)("a",{href:"/",children:(0,n.jsx)("button",{type:"submit",children:"Log In"})}),(0,n.jsx)("p",{className:"result"})]})})})})]})}function x(){var e=(0,s.useState)(!1),t=e[0],r=e[1],i=(0,s.useState)(""),a=i[0],o=i[1];return(0,s.useEffect)(function(){localStorage.getItem("user")&&(r(!0),o(JSON.parse(localStorage.getItem("user")||"")))},[]),console.log(a),(0,n.jsx)("div",{className:"containerHeader",children:(0,n.jsxs)("div",{className:"header",children:[(0,n.jsxs)("div",{className:"headerLeftSide",children:[(0,n.jsx)("img",{src:"../pictures/logo.png",alt:""}),(0,n.jsx)("a",{href:"/auction",children:"Auction"}),(0,n.jsx)("a",{href:"/allcars",children:"All Cars"})]}),(0,n.jsx)("div",{className:"headerCenter",children:(0,n.jsx)("form",{action:"search",children:(0,n.jsx)("input",{type:"search",name:"search",id:"search",placeholder:"Search for cars(ex. BMW, Audi, Ford)"})})}),t?(0,n.jsx)(c,{}):(0,n.jsx)(m,{})]})})}},8815:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(603),s=r(5893),i=r(7294),a=r(5185),o=r(1953),l=r(6798),c=r(2889),d=r(9669),u=r.n(d),$={position:"absolute",top:"20%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function p(){var e=function(e){e.preventDefault();var t=e.target[0].value,r=e.target[1].value,n=e.target[2].value,s=null==h?void 0:h._id;u().put("http://localhost:4000/v1/users/update/?id=".concat(s),{address:t,email:r,phone:n}).then(function(e){e.status}).catch(function(e){console.error(e)})},t=(0,n.Z)(i.useState(!1),2),r=t[0],d=t[1],p=(0,n.Z)(i.useState(),2),h=p[0],f=p[1];i.useEffect(function(){localStorage.getItem("user")&&f(JSON.parse(localStorage.getItem("user")||""))},[]),console.log(h);var m=function(){return d(!0)},x=function(){return d(!1)};return(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)(a.Z,{}),(0,s.jsx)("div",{className:"profile",children:(0,s.jsxs)("div",{className:"profileContainer",children:[(0,s.jsxs)("div",{className:"profileLeft",children:[(0,s.jsx)("p",{children:"Profile"}),(0,s.jsx)("p",{children:"My Listings"}),(0,s.jsx)("p",{children:"Settings"})]}),(0,s.jsxs)("div",{className:"userEdit",children:[(0,s.jsx)("img",{src:"../pictures/profile.png",alt:""}),(0,s.jsxs)("div",{className:"user",children:[(0,s.jsx)("p",{children:null==h?void 0:h.first_name}),(0,s.jsx)(l.Z,{onClick:m,children:"Edit Profile"}),(0,s.jsx)(c.Z,{open:r,onClose:x,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsx)(o.Z,{sx:$,children:(0,s.jsxs)("div",{className:"updateForm",children:[(0,s.jsx)("p",{children:"Update Your Profile"}),(0,s.jsxs)("form",{onSubmit:e,children:[(0,s.jsx)("input",{type:"text",name:"address",id:"address",placeholder:null==h?void 0:h.address}),(0,s.jsx)("input",{type:"email",name:"email",id:"email",placeholder:null==h?void 0:h.email}),(0,s.jsx)("input",{type:"text",name:"phone",id:"phone",placeholder:null==h?void 0:h.phone}),(0,s.jsx)("button",{type:"submit",children:"Update"})]})]})})})]})]})]})})]})}},1163:function(e,t,r){e.exports=r(387)},5177:function(e,t,r){"use strict";r.d(t,{w_:function(){return l}});var n=r(7294),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=n.createContext&&n.createContext(s),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)0>t.indexOf(n[s])&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function l(e){return function(t){return n.createElement(c,a({attr:a({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return n.createElement(t.tag,a({key:r},t.attr),e(t.child))})}(e.child))}}function c(e){var t=function(t){var r,s=e.attr,i=e.size,l=e.title,c=o(e,["attr","size","title"]),d=i||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:r,style:a(a({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&n.createElement("title",null,l),e.children)};return void 0!==i?n.createElement(i.Consumer,null,function(e){return t(e)}):t(s)}},603:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,{Z:function(){return s}})}},function(e){e.O(0,[980,617,158,388,255,798,774,888,179],function(){return e(e.s=5711)}),_N_E=e.O()}]);