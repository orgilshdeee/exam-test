(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[278],{9321:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/company/edit/[id]",function(){return n(5680)}])},5680:function(e,t,n){"use strict";n.r(t);var a=n(7568),r=n(655),l=n(5893);n(7294);var u=n(1163),o=n(8100),s=n(9669),i=n.n(s);function c(e){var t,n=e.role,s=(0,u.useRouter)(),c=s.query.id,d="http://localhost:4000/v1/company/".concat(c),m=(t=(0,a.Z)(function(e){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return[4,i().get(e).then(function(e){return e.data.data})];case 1:return[2,t.sent()]}})}),function(e){return t.apply(this,arguments)}),$=(0,o.ZP)(d,m),p=$.data;$.error;var h=function(e){e.preventDefault(),i().put("http://localhost:4000/v1/company/?id=".concat(c),{company_name:e.target.companyName.value,email:e.target.email.value,address:e.target.address.value,phoneNumber:e.target.phoneNumber.value,role_id:e.target.role.value}).then(function(e){200===e.status&&s.push("/company/company.list")}).catch(function(e){return console.log(e)})};return(0,l.jsx)("div",{children:(0,l.jsxs)("form",{onSubmit:h,children:[(0,l.jsx)("label",{htmlFor:"company_name",children:"Company name"}),(0,l.jsx)("input",{type:"text",name:"companyName",defaultValue:p&&p.company_name}),(0,l.jsx)("br",{}),(0,l.jsx)("label",{htmlFor:"email",children:"Email"}),(0,l.jsx)("input",{type:"text",name:"email",defaultValue:p&&p.email}),(0,l.jsx)("br",{}),(0,l.jsx)("label",{htmlFor:"address",children:"Address"}),(0,l.jsx)("input",{type:"text",name:"address",defaultValue:p&&p.address}),(0,l.jsx)("br",{}),(0,l.jsx)("label",{htmlFor:"phoneNumber",children:"Phone number"}),(0,l.jsx)("input",{type:"text",name:"phoneNumber",defaultValue:p&&p.phoneNumber}),(0,l.jsx)("br",{}),(0,l.jsx)("label",{htmlFor:"role_id",children:"Role"}),(0,l.jsx)("select",{name:"role",id:"role",defaultValue:p&&p.role_id,children:n.map(function(e,t){return(0,l.jsx)("option",{value:e._id,children:e.role_name},t)})}),(0,l.jsx)("br",{}),(0,l.jsx)("button",{type:"submit",children:"Update"})]})})}c.getInitialProps=(0,a.Z)(function(){var e,t,n;return(0,r.__generator)(this,function(a){switch(a.label){case 0:return[4,i().get("http://localhost:4000/v1/roles")];case 1:return t=(e=a.sent()).data.data,[2,((n={}).role=t,n)]}})}),t.default=c},1163:function(e,t,n){e.exports=n(387)}},function(e){e.O(0,[388,495,774,888,179],function(){return e(e.s=9321)}),_N_E=e.O()}]);